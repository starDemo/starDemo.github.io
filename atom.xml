<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://stardemo.github.io</id>
    <title>Zone</title>
    <updated>2021-04-02T03:50:00.463Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://stardemo.github.io"/>
    <link rel="self" href="https://stardemo.github.io/atom.xml"/>
    <subtitle>ä¸€ä¸ªæŠ€æœ¯çˆ±å¥½è€…çš„å¤‡å¿˜å½•</subtitle>
    <logo>https://stardemo.github.io/images/avatar.png</logo>
    <icon>https://stardemo.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Zone</rights>
    <entry>
        <title type="html"><![CDATA[åœ¨macOSä¸‹å¯ç”¨CGO_ENABLEDçš„äº¤å‰ç¼–è¯‘]]></title>
        <id>https://stardemo.github.io/post/zai-macos-xia-qi-yong-cgo_enabled-de-jiao-cha-bian-yi/</id>
        <link href="https://stardemo.github.io/post/zai-macos-xia-qi-yong-cgo_enabled-de-jiao-cha-bian-yi/">
        </link>
        <updated>2021-03-26T12:15:00.000Z</updated>
        <summary type="html"><![CDATA[<p>go å¯ç”¨CGO_ENABLEDé‡åˆ°æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆ<br>
<code>gcc_libinit_windows.c:7:10: fatal error: 'windows.h' file not found</code></p>
]]></summary>
        <content type="html"><![CDATA[<p>go å¯ç”¨CGO_ENABLEDé‡åˆ°æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆ<br>
<code>gcc_libinit_windows.c:7:10: fatal error: 'windows.h' file not found</code></p>
<!-- more -->
<h2 id="åœ¨macosä¸‹å¯ç”¨cgo_enabledçš„äº¤å‰ç¼–è¯‘">åœ¨macOSä¸‹å¯ç”¨CGO_ENABLEDçš„äº¤å‰ç¼–è¯‘</h2>
<p>åœ¨å¯ç”¨CGO_ENABLEDçš„æƒ…å†µä¸‹ï¼Œå°è¯•ä½¿ç”¨ä¸‹é¢å‘½ä»¤è¿›è¡ŒWindowså¹³å°çš„äº¤å‰ç¼–è¯‘ï¼š</p>
<pre><code class="language-shell">$ CGO_ENABLED=1 GOOS=windows GOARCH=386 go build -x -v -ldflags &quot;-s -w&quot;
</code></pre>
<p>å‡ºç°é”™è¯¯å¦‚ä¸‹ï¼š</p>
<pre><code class="language-shell"># runtime/cgo
gcc_libinit_windows.c:7:10: fatal error: 'windows.h' file not found
</code></pre>
<h2 id="å®‰è£…mingw-w64">å®‰è£…mingw-w64</h2>
<pre><code class="language-shell">$ brew install mingw-w64
==&gt; Downloading https://homebrew.bintray.com/bottles/isl-0.22.1.big_sur.bottle.tar.gz
==&gt; Downloading from https://d29vzk4ow07wi7.cloudfront.net/15376fb7aff7adec3786e6a31ec9b5cad585fd01ecbd5c4744ef9461b10965ff?response-content-disposition=attachment%3Bfilename%3D%22isl-0.22.1.big_sur.bottle.tar.gz%22&amp;Policy=eyJTdGF0Z
######################################################################## 100.0%
==&gt; Downloading https://homebrew.bintray.com/bottles/mpfr-4.1.0.big_sur.bottle.tar.gz
==&gt; Downloading from https://d29vzk4ow07wi7.cloudfront.net/1e8eb0326f62d3461d420d98af6fc088daca481cae89fd77a75b420d2e76d776?response-content-disposition=attachment%3Bfilename%3D%22mpfr-4.1.0.big_sur.bottle.tar.gz%22&amp;Policy=eyJTdGF0Z
######################################################################## 100.0%
==&gt; Downloading https://homebrew.bintray.com/bottles/libmpc-1.2.1.big_sur.bottle.tar.gz
######################################################################## 100.0%
==&gt; Downloading https://homebrew.bintray.com/bottles/mingw-w64-8.0.0.catalina.bottle.tar.gz
==&gt; Downloading from https://d29vzk4ow07wi7.cloudfront.net/d294bc0e960294bf573b9da364a8d95a06a257aec8f388c16e2b975ed8e4410c?response-content-disposition=attachment%3Bfilename%3D%22mingw-w64-8.0.0.catalina.bottle.tar.gz%22&amp;Policy=eyJ
######################################################################## 100.0%
==&gt; Installing dependencies for mingw-w64: isl, mpfr and libmpc
==&gt; Installing mingw-w64 dependency: isl
==&gt; Pouring isl-0.22.1.big_sur.bottle.tar.gz
ğŸº  /usr/local/Cellar/isl/0.22.1: 72 files, 4.9MB
==&gt; Installing mingw-w64 dependency: mpfr
==&gt; Pouring mpfr-4.1.0.big_sur.bottle.tar.gz
ğŸº  /usr/local/Cellar/mpfr/4.1.0: 30 files, 5.2MB
==&gt; Installing mingw-w64 dependency: libmpc
==&gt; Pouring libmpc-1.2.1.big_sur.bottle.tar.gz
ğŸº  /usr/local/Cellar/libmpc/1.2.1: 13 files, 425.0KB
==&gt; Installing mingw-w64
==&gt; Pouring mingw-w64-8.0.0.catalina.bottle.tar.gz
ğŸº  /usr/local/Cellar/mingw-w64/8.0.0: 7,402 files, 854.6MB
$ which x86_64-w64-mingw32-gcc
/usr/local/bin/x86_64-w64-mingw32-gcc
</code></pre>
<h2 id="ç¼–è¯‘x64">ç¼–è¯‘x64</h2>
<h3 id="å¯æ‰§è¡Œæ–‡ä»¶">å¯æ‰§è¡Œæ–‡ä»¶</h3>
<pre><code class="language-shell">$ CGO_ENABLED=1 CC=x86_64-w64-mingw32-gcc CXX=x86_64-w64-mingw32-g++ GOOS=windows GOARCH=amd64 go build -x -v -ldflags &quot;-s -w&quot; -o app.exe
</code></pre>
<h3 id="é™æ€åº“">é™æ€åº“</h3>
<pre><code class="language-shell">$ CGO_ENABLED=1 CC=x86_64-w64-mingw32-gcc CXX=x86_64-w64-mingw32-g++ GOOS=windows GOARCH=amd64 go build -buildmode=c-archive -x -v -ldflags &quot;-s -w&quot; -o bin app.go
</code></pre>
<h3 id="åŠ¨æ€åº“">åŠ¨æ€åº“</h3>
<p>å°†<code>-buildmode=c-archive</code>æ”¹ä¸º<code>-buildmode=c-shared</code>å³å¯</p>
<p><em><strong>è½¬è½½èµ„æ–™ å‡ºå¤„:<a href="https://www.dllhook.com/post/244.html">https://www.dllhook.com/post/244.html</a></strong></em></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kubernetesæš´éœ²ä¿¡æ¯ç»™Pod]]></title>
        <id>https://stardemo.github.io/post/kubernetes-bao-lu-xin-xi-gei-pod/</id>
        <link href="https://stardemo.github.io/post/kubernetes-bao-lu-xin-xi-gei-pod/">
        </link>
        <updated>2021-02-06T08:53:01.000Z</updated>
        <content type="html"><![CDATA[<h3 id="capabilities-of-the-downward-api">Capabilities of the Downward API</h3>
<h4 id="feildrefå³å¯ä»¥æš´éœ²çš„podå®šä¹‰ä¸­çš„é¡¹ç›®">feildRefï¼Œå³å¯ä»¥æš´éœ²çš„podå®šä¹‰ä¸­çš„é¡¹ç›®ï¼š</h4>
<pre><code>spec.nodeName - the nodeâ€™s name
status.hostIP - the nodeâ€™s IP
metadata.name - the podâ€™s name
metadata.namespace - the podâ€™s namespace
status.podIP - the podâ€™s IP address
spec.serviceAccountName - the podâ€™s service account name
metadata.uid - the podâ€™s UID
metadata.labels['&lt;KEY&gt;'] - the value of the podâ€™s label &lt;KEY&gt; (for example, metadata.labels['mylabel']); available in Kubernetes 1.9+
metadata.annotations['&lt;KEY&gt;'] - the value of the podâ€™s annotation &lt;KEY&gt; (for example, metadata.annotations['myannotation']); available in Kubernetes 1.9+
</code></pre>
<h4 id="resourcefieldrefå³å¯ä»¥æš´éœ²çš„containerå®šä¹‰ä¸­çš„é¡¹ç›®">resourceFieldRefï¼Œå³å¯ä»¥æš´éœ²çš„containerå®šä¹‰ä¸­çš„é¡¹ç›®ï¼š</h4>
<ul>
<li>A Containerâ€™s CPU limit</li>
<li>A Containerâ€™s CPU request</li>
<li>A Containerâ€™s memory limit</li>
<li>A Containerâ€™s memory request</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[LDAPä½¿ç”¨è®°å½•]]></title>
        <id>https://stardemo.github.io/post/ldap-shi-yong-ji-lu/</id>
        <link href="https://stardemo.github.io/post/ldap-shi-yong-ji-lu/">
        </link>
        <updated>2020-12-11T07:00:44.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<h2 id="rancherè®¿é—®ldapçš„é»˜è®¤è§„åˆ™">Rancherè®¿é—®LDAPçš„é»˜è®¤è§„åˆ™</h2>
<h3 id="ç”¨æˆ·">ç”¨æˆ·</h3>
<pre><code>æœç´¢èµ·ç‚¹: ou=Users,dc=thecover,dc=cn
å¯¹è±¡åˆ†ç±»: inetOrgPerson
ç™»å½•å­—æ®µ: uid
åç§°å­—æ®µ: cn
æœç´¢å­—æ®µ: uid|sn|givenName
å¯ç”¨å­—æ®µ:
ç¦ç”¨ä½æ©ç : 0
</code></pre>
<h3 id="ç”¨æˆ·ç»„">ç”¨æˆ·ç»„</h3>
<pre><code>æœç´¢èµ·ç‚¹: ou=Groups,dc=thecover,dc=cn
å¯¹è±¡åˆ†ç±»: groupOfNames
åç§°å­—æ®µ: cn
æœç´¢å­—æ®µ: cn
</code></pre>
<h3 id="åˆ›å»ºåªè¯»ç”¨æˆ·">åˆ›å»ºåªè¯»ç”¨æˆ·</h3>
<ul>
<li>åˆ›å»ºç”¨æˆ·ï¼ˆå¯ä»¥ç”¨ç®¡ç†å·¥å…·åˆ›å»ºåŒobjectClassçš„ç”¨æˆ·ï¼‰</li>
</ul>
<pre><code>#å¯†ç 
LDAP_READONLY_USER_PW='å¯†ç '
#Base DN
LDAP_BASE_DN='dc=thecover,dc=cn'
cat &lt;&lt;EOF &gt; ./readOnly.ldif
dn: cn=readonly,${LDAP_BASE_DN}
cn: readonly
objectClass: simpleSecurityObject
objectClass: organizationalRole
description: LDAP read only user
userPassword: ${LDAP_READONLY_USER_PW}
EOF
</code></pre>
<p>å‘½ä»¤è¡Œå¢åŠ ç”¨æˆ·</p>
<pre><code>ldapadd -x -D cn=Manager,dc=okcoin,dc=com -w 'å¯†ç ' -f ./readOnly.ldif
</code></pre>
<ul>
<li>é…ç½®æƒé™</li>
</ul>
<pre><code>LDAP_BASE_DN='dc=thecover,dc=cn'
cat &lt;&lt;EOF &gt; readonly-user-acl.ldif
dn: olcDatabase={1}hdb,cn=config
changetype: modify
delete: olcAccess
-
add: olcAccess
olcAccess: {0}to attrs=userPassword,shadowLastChange 
 by dn=&quot;cn=admin,dc=thecover,dc=cn&quot; write 
 by anonymous auth 
 by self write 
 by dn=&quot;cn=readonly,dc=thecover,dc=cn&quot; read 
 by * none
olcAccess: {1}to dn.base=&quot;&quot; by * read
olcAccess: {2}to * by dn=&quot;cn=Manager,dc=thecover,dc=cn&quot; write by * read
EOF
</code></pre>
<pre><code>ldapmodify -Y EXTERNAL -H ldapi:/// -f readonly-user-acl.ldif
</code></pre>
<ul>
<li>å¤‡æ³¨<br>
é…ç½®æƒé™æ—¶éœ€è¦ä½¿ç”¨</li>
</ul>
<pre><code>slapcat -b cn=config
</code></pre>
<p>å®šä½<code>olcDatabase</code> <code>config</code>çš„ä½ç½®</p>
<h2 id="ldapå¢åŠ memberofå±æ€§">Ldapå¢åŠ memberOfå±æ€§</h2>
<p>https://www.linuxprobe.com/enable-memberof-openldap.html<br>
https://kifarunix.com/how-to-create-openldap-member-groups/</p>
<h2 id="é…ç½®ç¼“å­˜">é…ç½®ç¼“å­˜</h2>
<h3 id="æŸ¥è¯¢ç¼“å­˜é…ç½®">æŸ¥è¯¢ç¼“å­˜é…ç½®</h3>
<pre><code class="language-shell">ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b cn=config 'olcDatabase={0}mdb' olcDbindex
</code></pre>
<h3 id="åˆ é™¤æ—§é…ç½®">åˆ é™¤æ—§é…ç½®</h3>
<pre><code class="language-shell">cat &gt;&gt; del-1mdb-index.ldif &lt;&lt; EOF
dn: olcDatabase={1}mdb, cn=config
changetype:modify
delete: olcDbIndex
olcDbIndex: uid eq
EOF
 ldapmodify -Q -Y EXTERNAL -H ldapi:/// -f del-1mdb-index.ldif
</code></pre>
<h3 id="æ–°å¢é…ç½®">æ–°å¢é…ç½®</h3>
<pre><code class="language-shell">cat &gt;&gt; mdb-index.ldif &lt;&lt; EOF
dn: olcDatabase={1}mdb, cn=config
changetype:modify
add:olcDbIndex
olcDbIndex: uid pres,eq,sub
EOF
ldapmodify -Q -Y EXTERNAL -H ldapi:/// -f mdb-index.ldif
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é˜¿é‡Œäº‘K8så®è·µç¬”è®°]]></title>
        <id>https://stardemo.github.io/post/a-li-yun-k8s-zui-jia-shi-jian-bi-ji/</id>
        <link href="https://stardemo.github.io/post/a-li-yun-k8s-zui-jia-shi-jian-bi-ji/">
        </link>
        <updated>2020-09-16T03:36:16.000Z</updated>
        <summary type="html"><![CDATA[<p>è®°å½•ä½¿ç”¨é˜¿é‡Œäº‘ACKå®¹å™¨æœåŠ¡ä»¥åŠé˜¿é‡Œäº‘çš„å„æœåŠ¡çš„æ€»ç»“ç¬”è®°</p>
]]></summary>
        <content type="html"><![CDATA[<p>è®°å½•ä½¿ç”¨é˜¿é‡Œäº‘ACKå®¹å™¨æœåŠ¡ä»¥åŠé˜¿é‡Œäº‘çš„å„æœåŠ¡çš„æ€»ç»“ç¬”è®°</p>
<!-- more -->
<h2 id="1-é…ç½®é˜¿é‡Œäº‘slbåˆ°é›†ç¾¤çš„ingress">1. é…ç½®é˜¿é‡Œäº‘SLBåˆ°é›†ç¾¤çš„Ingress</h2>
<h3 id="11-åŒæ—¶ä½¿ç”¨ç§ç½‘slbä¸å…¬ç½‘slbé…åˆ">1.1 åŒæ—¶ä½¿ç”¨ç§ç½‘SLBä¸å…¬ç½‘SLBé…åˆ</h3>
<p><em>å¯¹äºä¸€äº›ç‰¹æ®Šåœºæ™¯ï¼Œæ‚¨æœŸæœ›å®¹å™¨é›†ç¾¤å†…çš„æœåŠ¡æ—¢èƒ½å…è®¸å…¬ç½‘è®¿é—®ï¼ŒåŒæ—¶åˆå¸Œæœ›èƒ½è¢«åŒä¸€ä¸ªVPCä¸‹çš„å…¶ä»–æœåŠ¡ç›´æ¥è®¿é—®ï¼ˆä¸ç»è¿‡å…¬ç½‘ï¼‰ã€‚æ‚¨åªéœ€é¢å¤–éƒ¨ç½²ä¸€ä¸ªkube-system/nginx-ingress-lb-intranetæœåŠ¡ã€‚</em></p>
<p>ä½¿ç”¨é˜¿é‡Œäº‘åˆ›å»ºçš„å®¹å™¨é›†ç¾¤é»˜è®¤å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç»‘å®šåˆ°å…¬ç½‘çš„SLBï¼Œä½äº<code>kube-system</code>ä¸‹ã€‚åˆ›å»ºä¸€ä¸ªç¬¦åˆæœŸæœ›é…ç½®çš„å†…ç½‘SLBå®ä¾‹ï¼Œæ–°å¢ä¸€ä¸ªServiceæè¿°ï¼Œä½¿é›†ç¾¤è‡ªåŠ¨ç»‘å®šç›‘å¬åˆ°SLBã€‚</p>
<p>é…ç½®æ¨¡ç‰ˆ</p>
<pre><code class="language-yaml"># intranet nginx ingress slb service
apiVersion: v1
kind: Service
metadata:
 # è¿™é‡ŒæœåŠ¡å–åä¸ºnginx-ingress-lb-intranet
 name: nginx-ingress-lb-intranet
 namespace: kube-system
 labels:
   app: nginx-ingress-lb-intranet
 annotations:
   # æŒ‡æ˜SLBå®ä¾‹åœ°å€ç±»å‹ä¸ºç§ç½‘ç±»å‹
   service.beta.kubernetes.io/alicloud-loadbalancer-address-type: intranet
   # ä¿®æ”¹ä¸ºæ‚¨çš„ç§ç½‘SLBå®ä¾‹ID
   service.beta.kubernetes.io/alicloud-loadbalancer-id: &lt;YOUR_INTRANET_SLB_ID&gt;
   # æ˜¯å¦è‡ªåŠ¨åˆ›å»ºSLBç«¯å£ç›‘å¬ï¼ˆä¼šè¦†å†™å·²æœ‰ç«¯å£ç›‘å¬ï¼‰ï¼Œä¹Ÿå¯æ‰‹åŠ¨åˆ›å»ºç«¯å£ç›‘å¬
   service.beta.kubernetes.io/alicloud-loadbalancer-force-override-listeners: 'true'
spec:
 type: LoadBalancer
 # route traffic to other nodes
 externalTrafficPolicy: &quot;Cluster&quot;
 ports:
 - port: 80
   name: http
   targetPort: 80
 - port: 443
   name: https
   targetPort: 443
 selector:
   # select app=ingress-nginx pods
   app: ingress-nginx
</code></pre>
<p>åˆ›å»ºæœåŠ¡ä¹‹åé€šè¿‡å¦‚ä¸‹å‘½ä»¤,æŸ¥çœ‹svcçŠ¶æ€</p>
<pre><code class="language-shell"> kubectl -n kube-system get svc | grep nginx-ingress-lb
</code></pre>
<h2 id="2-corednsçš„ç‰¹æ®Šç”¨æ³•">2. CoreDNSçš„ç‰¹æ®Šç”¨æ³•</h2>
<h3 id="21-corednsæ‹¦æˆªåŸŸåè§£æ">2.1 CoreDNSæ‹¦æˆªåŸŸåè§£æ</h3>
<p>åœ¨å†…ç½‘å¤šä¸ªé›†ç¾¤çš„åœºæ™¯ä¸‹ï¼Œæœ‰äº›åŸŸåéœ€è¦è§£æåˆ°å†…ç½‘é¿å…å‡ºç°å…¬ç½‘æµé‡ï¼Œä¹‹å‰å¤„ç†æ–¹æ¡ˆæœ‰å¦‚ä¸‹å‡ ç§:</p>
<ul>
<li>åœ¨VPCå†…ç½‘å†…è‡ªå»ºä¸€ä¸ªDNSæœåŠ¡å™¨ï¼Œå°†æ‰€æœ‰æœåŠ¡å™¨çš„DNSæŒ‡å‘è‡ªå»ºçš„DNSæœåŠ¡å™¨
<ul>
<li>é—®é¢˜: éœ€è¦è€ƒè™‘åˆ°DNSçš„é«˜å¯ç”¨ä»¥åŠæ•…éšœå®¹ç¾éš¾</li>
<li>ä¼˜åŠ¿: é›†ä¸­åŒ–,ä¾¿äºç»Ÿä¸€ç»´æŠ¤ç®¡ç†æ›´æ–°</li>
</ul>
</li>
<li>åœ¨ä¸»æœºé…ç½®Hostsæ–‡ä»¶
<ul>
<li>é—®é¢˜: ä¸»æœºè¾ƒå¤šï¼Œç»´æŠ¤æˆæœ¬ä¸Šæ¶¨</li>
<li>ä¼˜åŠ¿: æ“ä½œç®€å•ï¼ŒæŠ€æœ¯æˆæœ¬è¾ƒä½</li>
</ul>
</li>
<li>K8så®¹å™¨é›†ç¾¤å†…CoreDNS</li>
</ul>
<p>Kubernetesæœ¬èº«å…·æœ‰é›†ç¾¤DNSç»„ä»¶ï¼Œæ­¤å¤„ä½¿ç”¨çš„ä¸ºCoreDNSï¼Œå·¥ä½œè´Ÿè½½çš„DNSé»˜è®¤ç­–ç•¥ä¸º<code>ClusterFirst</code>,æ­¤æ—¶Podså†…ç¨‹åºè§£æDNSä¼šä¼˜å…ˆæŸ¥è¯¢é›†ç¾¤çš„DNSç»„ä»¶ï¼Œæ‰€ä»¥æ­¤æ—¶å¯ä»¥åœ¨é›†ç¾¤DNSå±‚é¢è¿›è¡Œè§£ææ‹¦æˆªè¦†ç›–ã€‚</p>
<p>CoreDNSçš„é…ç½®ä½¿ç”¨çš„ConfigMap,è€ŒConfigMapæ”¯æŒçƒ­æ›´æ–°,ä¿®æ”¹ConfigMapåCoreDNSè‡ªåŠ¨ç”Ÿæ•ˆã€‚é…ç½®å¦‚ä¸‹:</p>
<pre><code>.:5353 {
cache 30
errors
health
kubernetes cluster.local in-addr.arpa ip6.arpa {
pods insecure
upstream /etc/resolv.conf
fallthrough in-addr.arpa ip6.arpa
}
loadbalance round_robin
hosts {
122.212.222.111 aaa.bbb.com
fallthrough
}
prometheus 0.0.0.0:9153
proxy . /etc/resolv.conf
reload
}
</code></pre>
<p>æŠŠéœ€è¦çš„DNSè§„æ ¼å†™å…¥HostsèŠ‚ç‚¹ä¸‹ï¼Œå³å¯è¿›è¡Œé›†ç¾¤å±‚é¢çš„è§£æé…ç½®ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ncæ£€æµ‹TCP/UDPç«¯å£å¼€æ”¾]]></title>
        <id>https://stardemo.github.io/post/shi-yong-nc-jian-ce-tcpudp-duan-kou-kai-fang/</id>
        <link href="https://stardemo.github.io/post/shi-yong-nc-jian-ce-tcpudp-duan-kou-kai-fang/">
        </link>
        <updated>2020-08-18T13:40:09.000Z</updated>
        <content type="html"><![CDATA[<h1 id="telnet-æ£€æµ‹tcpç«¯å£">Telnet æ£€æµ‹TCPç«¯å£</h1>
<pre><code class="language-shell">[root@localhost ~]# telnet 127.0.0.1 8080
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
^CConnection closed by foreign host.
</code></pre>
<h1 id="nc-æ£€æµ‹tcpç«¯å£">NC æ£€æµ‹TCPç«¯å£</h1>
<pre><code class="language-shell">[root@localhost ~]# nc -vz 127.0.0.1 8906
Connection to 127.0.0.1 8906 port [tcp/*] succeeded!
</code></pre>
<h1 id="nc-æ£€æµ‹udpç«¯å£">NC æ£€æµ‹UDPç«¯å£</h1>
<p><code>æ£€æµ‹udpç«¯å£çš„æ—¶å€™ä¸ä¼šç«‹å³è¿”å›æµ‹è¯•ç»“æœï¼Œå¯èƒ½éœ€è¦ç­‰å¾…å‡ ç§’é’Ÿ</code></p>
<pre><code class="language-shell">[root@apexsoft ~]# nc -uz 127.0.0.1 8907
Connection to 127.0.0.1 8907 port [udp/*] succeeded!
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Nginxæ ¹æ®UAè¿‡æ»¤è¯·æ±‚]]></title>
        <id>https://stardemo.github.io/post/nginx-gen-ju-ua-guo-lu-qing-qiu/</id>
        <link href="https://stardemo.github.io/post/nginx-gen-ju-ua-guo-lu-qing-qiu/">
        </link>
        <updated>2020-05-26T08:46:34.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ‰éœ€æ±‚ä¸€ä¸ªç³»ç»Ÿåªå…è®¸å¾®ä¿¡å’Œé’‰é’‰è®¿é—®ï¼Œæ‰€ä»¥é…ç½®Nginxè§„åˆ™è¿‡æ»¤UA</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ‰éœ€æ±‚ä¸€ä¸ªç³»ç»Ÿåªå…è®¸å¾®ä¿¡å’Œé’‰é’‰è®¿é—®ï¼Œæ‰€ä»¥é…ç½®Nginxè§„åˆ™è¿‡æ»¤UA</p>
<!-- more -->
<h1 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h1>
<pre><code class="language-nginx">server {
    listen       80;
    server_name  localhost;
    set $flag 0;
    if ($http_user_agent !~ &quot;MicroMessenger&quot; ){
        set $flag &quot;${flag}1&quot;;
    }
    if ( $http_user_agent !~ &quot;DingTalk&quot; ){
        set $flag &quot;${flag}2&quot;;
    }
    if ($flag = &quot;012&quot;) {
        return 403;
    }
    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }
    #error_page  404              /404.html;
    # redirect server error pages to the static page /50x.html
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
}
</code></pre>
<h1 id="è¸©è¿‡çš„å‘">è¸©è¿‡çš„å‘</h1>
<h2 id="ä¸€-nginxå¤šæ¡ä»¶åˆ¤æ–­">ä¸€. Nginxå¤šæ¡ä»¶åˆ¤æ–­</h2>
<h2 id="é—®é¢˜">é—®é¢˜</h2>
<p><em>nginxçš„é…ç½®ä¸­ä¸æ”¯æŒifæ¡ä»¶çš„é€»è¾‘ä¸ã€é€»è¾‘æˆ–è¿ç®— ï¼Œå¹¶ä¸”ä¸æ”¯æŒifçš„åµŒå¥—è¯­æ³•</em>*</p>
<h2 id="è§£æ³•">è§£æ³•</h2>
<p>å®šä¹‰å˜é‡,åˆ¤æ–­å˜é‡çŠ¶æ€ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[React]Reactå®æˆ˜(1)â€”â€”Ant Design Proé¡¹ç›®historyæ¨¡å¼ä¸‹ç›¸å…³é…ç½®]]></title>
        <id>https://stardemo.github.io/post/reactreact-shi-zhan-1-ant-design-pro-xiang-mu-history-mo-shi-xia-xiang-guan-pei-zhi/</id>
        <link href="https://stardemo.github.io/post/reactreact-shi-zhan-1-ant-design-pro-xiang-mu-history-mo-shi-xia-xiang-guan-pei-zhi/">
        </link>
        <updated>2020-05-25T07:14:57.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ç›¸å…³é“¾æ¥">ç›¸å…³é“¾æ¥</h1>
<p><a href="https://pro.ant.design/docs/deploy-cn">AntDesignæ–‡æ¡£</a></p>
<h1 id="nginx-é…ç½®æ–‡ä»¶ä¿®æ”¹">Nginx é…ç½®æ–‡ä»¶ä¿®æ”¹</h1>
<h2 id="å®Œæ•´é…ç½®">å®Œæ•´é…ç½®</h2>
<pre><code class="language-nginx">server {
    listen       80;
    server_name  localhost;
    location / { 
    proxy_pass http://localhost:8000;
    }
  location /active {
      try_files $uri $uri/ /healthy/index.html;
  }

  location /healthy/api {
       proxy_pass   http://localhost:8888/;
  }
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
}
</code></pre>
<h2 id="8000ç«¯å£ä¸‹nginxé…ç½®">8000ç«¯å£ä¸‹nginxé…ç½®</h2>
<pre><code class="language-nginx">server {
    listen  8000;
    server_name   localhost;
    location / {
        root   /usr/project/;
        try_files $uri $uri/ /index.html;  #é…åˆreacté¡¹ç›®çš„historyæ¨¡å¼å»é™¤#æ—¶ç”¨åˆ°
        index index.html;
        client_max_body_size    8m;
    }
}
</code></pre>
<h2 id="é…ç½®æ–‡ä»¶è¯´æ˜">é…ç½®æ–‡ä»¶è¯´æ˜</h2>
<ul>
<li>ä½¿ç”¨try_filesæ–¹å¼çš„å‰ææ˜¯æœåŠ¡å™¨å®‰è£…nginxçš„æ—¶å€™éœ€è¦å®‰è£…ç›¸åº”çš„æ¨¡å—ï¼Œæˆ‘æ˜¯é€šè¿‡yarnæºçš„æ–¹å¼å®‰è£…çš„ï¼ŒåŒ…å«äº†æ‰€æœ‰æ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨</li>
<li>80ç«¯å£ä¸‹æ ¹ç›®å½•ä¼šæŒ‡å‘8000ç«¯å£ï¼ˆä¹ æƒ¯æŠŠé¡¹ç›®éƒ½æ”¾åœ¨8000ç«¯å£ä¸‹æŒ‡å‘çš„projectç›®å½•ä¸‹ï¼‰ï¼ŒåŒæ—¶æ·»åŠ /activeè®¿é—®æ‹¦æˆªæŒ‡å‘healthyç›®å½•ä¸‹index.htmlï¼ŒåŒæ—¶æ·»åŠ /healthy/apiæ˜¯ä¸ºäº†æ‹¦æˆªæ¥å£è®¿é—®</li>
<li>8000ç«¯å£ä¸‹rootæŒ‡å‘çš„æ˜¯/usr/project/ï¼Œæ­¤ç›®å½•æ”¾ç½®æ‰€æœ‰å‰ç«¯é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œä¸€äº›nodeæœåŠ¡ç«¯é¡¹ç›®ä¹Ÿå¯ä»¥æ”¾è¿›å»</li>
</ul>
<h1 id="ant-design-proé¡¹ç›®ä¸­ç›¸å…³é…ç½®">Ant Design Proé¡¹ç›®ä¸­ç›¸å…³é…ç½®</h1>
<h2 id="ä¿®æ”¹configæ–‡ä»¶">ä¿®æ”¹configæ–‡ä»¶</h2>
<p>é¡¹ç›®ç›®å½•ä¸‹config/config.js</p>
<pre><code class="language-javascript">export default {
  plugins,
  proxy,
  block: {
    defaultGitUrl: 'https://github.com/ant-design/pro-blocks',
  },
  hash: false, // browser æ¨¡å¼ä¸‹ä¸ºfalse, hash æ¨¡å¼ä¸‹ä¸ºtrue
  history: 'browser', // é»˜è®¤æ˜¯ browser ï¼Œ hash
  base: '/healthy/', // browser æ¨¡å¼ä¸‹ä¸º /healthy/ ï¼Œ hashæ¨¡å¼ä¸‹ä¸º /
  publicPath: '/healthy/', // æ¨¡å¼ä¸‹ä¸º /healthy/ ï¼Œ hashæ¨¡å¼ä¸‹ä¸º ./
  targets: {
    ie: 11,
  },
  devtool: isAntDesignProPreview ? 'source-map' : false,
}
</code></pre>
<h2 id="å¼•ç”¨å¤–éƒ¨æ–‡ä»¶">å¼•ç”¨å¤–éƒ¨æ–‡ä»¶</h2>
<p>pages/document.ejsä¸­å¼•ç”¨çš„å¤–éƒ¨æ–‡ä»¶</p>
<pre><code class="language-html">&lt;link rel=&quot;shortcut icon&quot; href=&quot;./favicon.ico&quot;&gt;
</code></pre>
<h2 id="æ¥å£è°ƒç”¨é…ç½®">æ¥å£è°ƒç”¨é…ç½®</h2>
<pre><code class="language-javascript">// config/config.jsé…ç½®æ–‡ä»¶
global.api = '/healthy/api'
// è°ƒç”¨æ¥å£é¡µé¢
let response = await axios.get(`${global.api}/dtea-service/user/result?examId=${this.questionId}`);
</code></pre>
<p>ä¸ºäº†æœ¬åœ°é¡¹ç›®å’Œå‘å¸ƒè‡³æœåŠ¡å™¨æ‰“åŒ…æ–‡ä»¶ä¿æŒä¸€è‡´ï¼Œå¯ä»¥æŠŠé¡¹ç›®ä¸­æœ¬åœ°ä»£ç†ä¿®æ”¹ä¸‹</p>
<pre><code class="language-javascript">const proxy = {
  '/healthy/api': {
    target: 'http://192.136.12.211:8888',
    changeOrigin: true,
    pathRewrite: {
      '^/healthy/api': '',
    },
  },
};
}
</code></pre>
<p>ä½œè€…ï¼šwayne1125<br>
é“¾æ¥ï¼šhttps://www.jianshu.com/p/16de172d0d45<br>
æ¥æºï¼šç®€ä¹¦<br>
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[Go]makeå’Œnewå…³é”®å­—çš„åŒºåˆ«åŠå®ç°åŸç†]]></title>
        <id>https://stardemo.github.io/post/diff-make-and-new/</id>
        <link href="https://stardemo.github.io/post/diff-make-and-new/">
        </link>
        <updated>2020-05-21T03:16:43.000Z</updated>
        <summary type="html"><![CDATA[<p>Go ä¸­ç»å¸¸åˆå§‹åŒ–ç»“æ„ä½“ï¼Œå¯¹äºåˆå§‹åŒ–æ–¹å¼çš„ä¸€äº›æ·±å…¥ç†è§£ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>Go ä¸­ç»å¸¸åˆå§‹åŒ–ç»“æ„ä½“ï¼Œå¯¹äºåˆå§‹åŒ–æ–¹å¼çš„ä¸€äº›æ·±å…¥ç†è§£ã€‚</p>
<!-- more -->
<p>å½“æˆ‘ä»¬æƒ³è¦åœ¨Goè¯­è¨€ä¸­åˆå§‹åŒ–ä¸€ä¸ªç»“æ„æ—¶ï¼Œå…¶å®ä¼šä½¿ç”¨åˆ°ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„å…³é”®å­—ï¼Œä¹Ÿå°±æ˜¯ make å’Œ newï¼ŒåŒæ—¶å‡ºç°ä¸¤ä¸ªç”¨äºåˆå§‹åŒ–çš„å…³é”®å­—å¯¹äºåˆå­¦è€…æ¥è¯´å¯èƒ½ä¼šæ„Ÿåˆ°éå¸¸å›°æƒ‘ï¼Œä¸è¿‡å®ƒä»¬ä¸¤è€…å´æœ‰ç€å®Œå…¨ä¸åŒçš„ä½œç”¨ã€‚</p>
<p>åœ¨Goè¯­è¨€ä¸­ï¼Œmake å…³é”®å­—çš„ä¸»è¦ä½œç”¨æ˜¯åˆå§‹åŒ–å†…ç½®çš„æ•°æ®ç»“æ„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å‰é¢æåˆ°çš„æ•°ç»„ã€åˆ‡ç‰‡å’Œ Channelï¼Œè€Œå½“æˆ‘ä»¬æƒ³è¦è·å–æŒ‡å‘æŸä¸ªç±»å‹çš„æŒ‡é’ˆæ—¶å¯ä»¥ä½¿ç”¨ new å…³é”®å­—ï¼Œåªæ˜¯çŸ¥é“å¦‚ä½•ä½¿ç”¨ new çš„äººçœŸçš„æ¯”è¾ƒå°‘ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹ make å’Œ new å®ƒä»¬çš„åŒºåˆ«ä»¥åŠå®ç°åŸç†ã€‚</p>
<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1>
<p>è™½ç„¶ make å’Œ new éƒ½æ˜¯èƒ½å¤Ÿç”¨äºåˆå§‹åŒ–æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å®ƒä»¬ä¸¤è€…èƒ½å¤Ÿåˆå§‹åŒ–çš„ç»“æ„ç±»å‹å´æœ‰ç€è¾ƒå¤§çš„ä¸åŒï¼Œmake åœ¨Goè¯­è¨€ä¸­åªèƒ½ç”¨äºåˆå§‹åŒ–è¯­è¨€ä¸­çš„åŸºæœ¬ç±»å‹ï¼š</p>
<pre><code class="language-go">slice := make([]int, 0, 100)
hash := make(map[int]bool, 10)
ch := make(chan int, 5)
</code></pre>
<p>è¿™äº›åŸºæœ¬ç±»å‹éƒ½æ˜¯è¯­è¨€ä¸ºæˆ‘ä»¬æä¾›çš„ï¼Œæˆ‘ä»¬åœ¨å‰é¢å·²ç»ä»‹ç»è¿‡äº†å®ƒä»¬åˆå§‹åŒ–çš„è¿‡ç¨‹ä»¥åŠåŸç†ï¼Œä½†æ˜¯åœ¨è¿™é‡Œè¿˜æ˜¯éœ€è¦æé†’å¤§å®¶æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸‰è€…è¿”å›äº†ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>slice æ˜¯ä¸€ä¸ªåŒ…å« dataã€cap å’Œ len çš„ç»“æ„ä½“ï¼›</li>
<li>hash æ˜¯ä¸€ä¸ªæŒ‡å‘ hmap ç»“æ„ä½“çš„æŒ‡é’ˆï¼›</li>
<li>ch æ˜¯ä¸€ä¸ªæŒ‡å‘ hchan ç»“æ„ä½“çš„æŒ‡é’ˆã€‚</li>
</ul>
<p>è€Œå¦ä¸€ä¸ªç”¨äºåˆå§‹åŒ–æ•°æ®ç»“æ„çš„å…³é”®å­— new çš„ä½œç”¨å…¶å®å°±éå¸¸ç®€å•äº†ï¼Œå®ƒåªæ˜¯æ¥æ”¶ä¸€ä¸ªç±»å‹ä½œä¸ºå‚æ•°ç„¶åè¿”å›ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªç±»å‹çš„æŒ‡é’ˆï¼š</p>
<pre><code class="language-go">i := new(int)
var v int
i := &amp;v
</code></pre>
<p>ä¸Šè¿°ä»£ç ç‰‡æ®µä¸­çš„ä¸¤ç§ä¸åŒåˆå§‹åŒ–æ–¹æ³•å…¶å®æ˜¯ç­‰ä»·çš„ï¼Œå®ƒä»¬éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡å‘ int é›¶å€¼çš„æŒ‡é’ˆã€‚<br>
<img src="https://stardemo.github.io/post-images/1590031666594.jpeg" alt="" loading="lazy"><br>
åˆ°äº†è¿™é‡Œæˆ‘ä»¬å¯¹Goè¯­è¨€ä¸­è¿™ä¸¤ç§ä¸åŒå…³é”®å­—çš„ä½¿ç”¨ä¹Ÿæœ‰äº†ä¸€å®šçš„äº†è§£ï¼š<code>make ç”¨äºåˆ›å»ºåˆ‡ç‰‡ã€å“ˆå¸Œè¡¨å’Œç®¡é“ç­‰å†…ç½®æ•°æ®ç»“æ„ï¼Œnew ç”¨äºåˆ†é…å¹¶åˆ›å»ºä¸€ä¸ªæŒ‡å‘å¯¹åº”ç±»å‹çš„æŒ‡é’ˆ</code>ã€‚</p>
<h1 id="å®ç°åŸç†">å®ç°åŸç†</h1>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†åˆ†åˆ«ä»‹ç» make å’Œ new åœ¨åˆå§‹åŒ–ä¸åŒæ•°æ®ç»“æ„æ—¶çš„å…·ä½“è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¼šä»ç¼–è¯‘æœŸé—´å’Œè¿è¡Œæ—¶ä¸¤ä¸ªä¸åŒçš„é˜¶æ®µç†è§£è¿™ä¸¤ä¸ªå…³é”®å­—çš„åŸç†ã€‚</p>
<h2 id="make">make</h2>
<p>æˆ‘ä»¬å·²ç»äº†è§£äº† make åœ¨åˆ›å»ºæ•°ç»„å’Œåˆ‡ç‰‡ã€å“ˆå¸Œè¡¨å’Œ Channel çš„å…·ä½“è¿‡ç¨‹ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿåªæ˜¯ä¼šç®€å•æåŠ make ç›¸å…³çš„æ•°æ®ç»“æ„åˆå§‹åŒ–åŸç†ã€‚<br>
<img src="https://stardemo.github.io/post-images/1590031718876.gif" alt="" loading="lazy"><br>
åœ¨ç¼–è¯‘æœŸé—´çš„ç±»å‹æ£€æŸ¥é˜¶æ®µï¼ŒGoè¯­è¨€å…¶å®å°±å°†ä»£è¡¨ make å…³é”®å­—çš„ OMAKE èŠ‚ç‚¹æ ¹æ®å‚æ•°ç±»å‹çš„ä¸åŒè½¬æ¢æˆäº† OMAKESLICEã€OMAKEMAP å’Œ OMAKECHAN ä¸‰ç§ä¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹æœ€ç»ˆä¹Ÿä¼šè°ƒç”¨ä¸åŒçš„è¿è¡Œæ—¶å‡½æ•°æ¥åˆå§‹åŒ–æ•°æ®ç»“æ„ã€‚</p>
<h2 id="new">new</h2>
<p>å†…ç½®å‡½æ•° new ä¼šåœ¨ç¼–è¯‘æœŸé—´çš„ SSA ä»£ç ç”Ÿæˆé˜¶æ®µç»è¿‡ callnew å‡½æ•°çš„å¤„ç†ï¼Œå¦‚æœè¯·æ±‚åˆ›å»ºçš„ç±»å‹å¤§å°æ˜¯ 0ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ä¸€ä¸ªè¡¨ç¤ºç©ºæŒ‡é’ˆçš„ zerobase å˜é‡ï¼Œåœ¨é‡åˆ°å…¶ä»–æƒ…å†µæ—¶ä¼šå°†å…³é”®å­—è½¬æ¢æˆ newobjectï¼š</p>
<pre><code class="language-go">func callnew(t *types.Type) *Node {
    if t.NotInHeap() {
        yyerror(&quot;%v is go:notinheap; heap allocation disallowed&quot;, t)
    }
    dowidth(t)
 
    if t.Size() == 0 {
        z := newname(Runtimepkg.Lookup(&quot;zerobase&quot;))
        z.SetClass(PEXTERN)
        z.Type = t
        return typecheck(nod(OADDR, z, nil), ctxExpr)
    }
 
    fn := syslook(&quot;newobject&quot;)
    fn = substArgTypes(fn, t)
    v := mkcall1(fn, types.NewPtr(t), nil, typename(t))
    v.SetNonNil(true)
    return v
}
</code></pre>
<p>éœ€è¦æåˆ°çš„æ˜¯ï¼Œå“ªæ€•å½“å‰å˜é‡æ˜¯ä½¿ç”¨ var è¿›è¡Œåˆå§‹åŒ–ï¼Œåœ¨è¿™ä¸€é˜¶æ®µä¹Ÿå¯èƒ½ä¼šè¢«è½¬æ¢æˆ newobject çš„å‡½æ•°è°ƒç”¨å¹¶åœ¨å †ä¸Šç”³è¯·å†…å­˜ï¼š</p>
<pre><code class="language-go">func walkstmt(n *Node) *Node {
    switch n.Op {
    case ODCL:
        v := n.Left
        if v.Class() == PAUTOHEAP {
            if prealloc[v] == nil {
                prealloc[v] = callnew(v.Type)
            }
            nn := nod(OAS, v.Name.Param.Heapaddr, prealloc[v])
            nn.SetColas(true)
            nn = typecheck(nn, ctxStmt)
            return walkstmt(nn)
        }
    case ONEW:
        if n.Esc == EscNone {
            r := temp(n.Type.Elem())
            r = nod(OAS, r, nil)
            r = typecheck(r, ctxStmt)
            init.Append(r)
            r = nod(OADDR, r.Left, nil)
            r = typecheck(r, ctxExpr)
            n = r
        } else {
            n = callnew(n.Type.Elem())
        }
    }
}
</code></pre>
<p>å½“ç„¶è¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œå¦‚æœå½“å‰å£°æ˜çš„å˜é‡æˆ–è€…å‚æ•°ä¸éœ€è¦åœ¨å½“å‰ä½œç”¨åŸŸå¤–ç”Ÿå­˜ï¼Œé‚£ä¹ˆå…¶å®å°±ä¸ä¼šè¢«åˆå§‹åŒ–åœ¨å †ä¸Šï¼Œè€Œæ˜¯ä¼šåˆå§‹åŒ–åœ¨å½“å‰å‡½æ•°çš„æ ˆä¸­å¹¶éšç€å‡½æ•°è°ƒç”¨çš„ç»“æŸè€Œè¢«é”€æ¯ã€‚</p>
<p>newobject å‡½æ•°çš„å·¥ä½œå°±æ˜¯è·å–ä¼ å…¥ç±»å‹çš„å¤§å°å¹¶è°ƒç”¨ mallocgc åœ¨å †ä¸Šç”³è¯·ä¸€ç‰‡å¤§å°åˆé€‚çš„å†…å­˜ç©ºé—´å¹¶è¿”å›æŒ‡å‘è¿™ç‰‡å†…å­˜ç©ºé—´çš„æŒ‡é’ˆï¼š</p>
<pre><code>func newobject(typ *_type) unsafe.Pointer {
    return mallocgc(typ.size, typ, true)
}
</code></pre>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æœ€åï¼Œç®€å•æ€»ç»“ä¸€ä¸‹Goè¯­è¨€ä¸­ make å’Œ new å…³é”®å­—çš„å®ç°åŸç†ï¼Œmake å…³é”®å­—çš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»ºåˆ‡ç‰‡ã€å“ˆå¸Œè¡¨å’Œ Channel ç­‰å†…ç½®çš„æ•°æ®ç»“æ„ï¼Œè€Œ new çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºç±»å‹ç”³è¯·ä¸€ç‰‡å†…å­˜ç©ºé—´ï¼Œå¹¶è¿”å›æŒ‡å‘è¿™ç‰‡å†…å­˜çš„æŒ‡é’ˆã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œæµ…æ±ç‹ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_32252917/java/article/details/102953438</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kubernetesæ—¥å¿—é‡‡é›†Sidecaræ¨¡å¼ä»‹ç»]]></title>
        <id>https://stardemo.github.io/post/kubernetes-ri-zhi-cai-ji-sidecar-mo-shi-jie-shao/</id>
        <link href="https://stardemo.github.io/post/kubernetes-ri-zhi-cai-ji-sidecar-mo-shi-jie-shao/">
        </link>
        <updated>2020-05-11T07:05:52.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æ—¥å¿—é‡‡é›†æ–¹å¼">æ—¥å¿—é‡‡é›†æ–¹å¼</h2>
<p>æ—¥å¿—ä½œä¸ºä»»ä¸€ç³»ç»Ÿä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ï¼Œåœ¨K8Sçš„å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿä»‹ç»äº†å¤šç§çš„æ—¥å¿—é‡‡é›†å½¢å¼ï¼Œæ€»ç»“èµ·æ¥ä¸»è¦æœ‰ä¸‹è¿°3ç§ï¼šåŸç”Ÿæ–¹å¼ã€DaemonSetæ–¹å¼å’ŒSidecaræ–¹å¼ã€‚</p>
<ol>
<li>åŸç”Ÿæ–¹å¼ï¼šä½¿ç”¨ kubectl logs ç›´æ¥åœ¨æŸ¥çœ‹æœ¬åœ°ä¿ç•™çš„æ—¥å¿—ï¼Œæˆ–è€…é€šè¿‡docker engineçš„ log driver æŠŠæ—¥å¿—é‡å®šå‘åˆ°æ–‡ä»¶ã€syslogã€fluentdç­‰ç³»ç»Ÿä¸­ã€‚</li>
<li>DaemonSetæ–¹å¼ï¼šåœ¨K8Sçš„æ¯ä¸ªnodeä¸Šéƒ¨ç½²æ—¥å¿—agentï¼Œç”±agenté‡‡é›†æ‰€æœ‰å®¹å™¨çš„æ—¥å¿—åˆ°æœåŠ¡ç«¯ã€‚</li>
<li>Sidecaræ–¹å¼ï¼šä¸€ä¸ªPODä¸­è¿è¡Œä¸€ä¸ªsidecarçš„æ—¥å¿—agentå®¹å™¨ï¼Œç”¨äºé‡‡é›†è¯¥PODä¸»å®¹å™¨äº§ç”Ÿçš„æ—¥å¿—ã€‚</li>
</ol>
<figure data-type="image" tabindex="1"><img src="https://stardemo.github.io/post-images/1589181137428.png" alt="" loading="lazy"></figure>
<h2 id="é‡‡é›†æ–¹å¼å¯¹æ¯”">é‡‡é›†æ–¹å¼å¯¹æ¯”</h2>
<p>æ¯ç§é‡‡é›†æ–¹å¼éƒ½æœ‰ä¸€å®šçš„ä¼˜åŠ£åŠ¿ï¼Œè¿™é‡Œæˆ‘ä»¬è¿›è¡Œç®€å•çš„å¯¹æ¯”ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://stardemo.github.io/post-images/1589180900695.png" alt="" loading="lazy"></figure>
<p>ä»ä¸Šè¿°è¡¨æ ¼ä¸­å¯ä»¥çœ‹å‡ºï¼š</p>
<ol>
<li>åŸç”Ÿæ–¹å¼ç›¸å¯¹åŠŸèƒ½å¤ªå¼±ï¼Œä¸€èˆ¬ä¸å»ºè®®åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ä½¿ç”¨ï¼Œå¦åˆ™é—®é¢˜è°ƒæŸ¥ã€æ•°æ®ç»Ÿè®¡ç­‰å·¥ä½œå¾ˆéš¾å®Œæˆï¼›</li>
<li>DaemonSetæ–¹å¼åœ¨æ¯ä¸ªèŠ‚ç‚¹åªå…è®¸ä¸€ä¸ªæ—¥å¿—agentï¼Œç›¸å¯¹èµ„æºå ç”¨è¦å°å¾ˆå¤šï¼Œä½†æ‰©å±•æ€§ã€ç§Ÿæˆ·éš”ç¦»æ€§å—é™ï¼Œæ¯”è¾ƒé€‚ç”¨äºåŠŸèƒ½å•ä¸€æˆ–ä¸šåŠ¡ä¸æ˜¯å¾ˆå¤šçš„é›†ç¾¤ï¼›</li>
<li>Sidecaræ–¹å¼ä¸ºæ¯ä¸ªPODå•ç‹¬éƒ¨ç½²æ—¥å¿—agentï¼Œç›¸å¯¹èµ„æºå ç”¨è¾ƒå¤šï¼Œä½†çµæ´»æ€§ä»¥åŠå¤šç§Ÿæˆ·éš”ç¦»æ€§è¾ƒå¼ºï¼Œå»ºè®®å¤§å‹çš„K8Sé›†ç¾¤æˆ–ä½œä¸ºPAASå¹³å°ä¸ºå¤šä¸ªä¸šåŠ¡æ–¹æœåŠ¡çš„é›†ç¾¤ä½¿ç”¨è¯¥æ–¹å¼ã€‚</li>
</ol>
<pre><code>ä½œè€…ï¼šé˜¿é‡Œäº‘äº‘æ –å·
é“¾æ¥ï¼šhttps://www.jianshu.com/p/72f34de4dd35
æ¥æºï¼šç®€ä¹¦
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://stardemo.github.io/post/hello-gridea-blog/</id>
        <link href="https://stardemo.github.io/post/hello-gridea-blog/">
        </link>
        <updated>2020-04-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  åšå®¢æ¬å®¶å•¦  <strong>Github Pages</strong> ï¼<br>
ğŸ‘  æ–‡ç« é€æ¸è¿ç§»æ•´ç†ä¸­ğŸ™ ï¼<br>
ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  åšå®¢æ¬å®¶å•¦  <strong>Github Pages</strong> ï¼<br>
ğŸ‘  æ–‡ç« é€æ¸è¿ç§»æ•´ç†ä¸­ğŸ™ ï¼<br>
ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
...</p>
<!-- more -->
<p>âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„...<br>
<a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>